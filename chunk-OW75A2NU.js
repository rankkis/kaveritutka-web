import{a as h}from"./chunk-VBYFBWG7.js";import{c as P}from"./chunk-OMO3Q4XF.js";import{a as y,b as v,c as f}from"./chunk-E55F5MHT.js";import"./chunk-TRBQGGKK.js";import"./chunk-ETZVTKTF.js";import{h as m,p as u,r as c}from"./chunk-642DS5T4.js";import{$a as r,Fb as p,Gb as s,Lb as g,eb as a,lb as l,xb as d}from"./chunk-3324XCKI.js";import"./chunk-ODN5LVDJ.js";var C=class o{constructor(e,i,t,n,_){this.route=e;this.router=i;this.playgroundService=t;this.playtimeService=n;this.dialog=_}playground=null;playtimes=[];ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.loadPlayground(e),this.loadPlaytimes(e))}loadPlayground(e){this.playgroundService.getPlaygrounds().subscribe(i=>{this.playground=i.find(t=>t.id===e)||null})}loadPlaytimes(e){this.playtimeService.getPlaytimesByPlayground(e).subscribe(i=>{this.playtimes=i})}onCreatePlaytime(){if(!this.playground)return;window.innerWidth<=768?this.router.navigate(["/playground",this.playground.id,"new-playtime"]):this.dialog.open(h,{width:"100%",maxWidth:"640px",maxHeight:"95vh",panelClass:"playtime-dialog-panel",data:{playground:this.playground},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(t=>{t&&this.playground&&this.loadPlaytimes(this.playground.id)})}goBack(){this.router.navigate(["/map"])}static \u0275fac=function(i){return new(i||o)(a(u),a(c),a(y),a(v),a(P))};static \u0275cmp=l({type:o,selectors:[["app-playground-detail-page"]],decls:2,vars:3,consts:[[1,"page-container"],[3,"createPlaytime","backClick","playground","playtimes","showBackButton"]],template:function(i,t){i&1&&(p(0,"div",0)(1,"app-playground-detail",1),g("createPlaytime",function(){return t.onCreatePlaytime()})("backClick",function(){return t.goBack()}),s()()),i&2&&(r(),d("playground",t.playground)("playtimes",t.playtimes)("showBackButton",!0))},dependencies:[m,f],styles:[".page-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#fff;padding:1rem;overflow-y:auto}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}"]})};export{C as PlaygroundDetailPageComponent};
