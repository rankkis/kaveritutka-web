<div class="detail-container" *ngIf="playground">
  <div class="detail-header" *ngIf="showBackButton">
    <button class="back-btn" (click)="onBackClick()">
      <span class="back-icon">←</span>
      Takaisin
    </button>
  </div>

  <div class="detail-content">
    <h1 class="playground-title">{{ playground.name }}</h1>

    <div class="playground-info">
      <img *ngIf="playground.imageUrl"
           [src]="playground.imageUrl"
           [alt]="playground.name"
           class="playground-image" />
      <p *ngIf="playground.address" class="address">
        📍 {{ playground.address }}
      </p>
      <p *ngIf="playground.description" class="description">
        {{ playground.description }}
      </p>
    </div>

    <div class="playtimes-section">
      <div class="section-header">
        <h2>Tulevat leikkiajat</h2>
        <button class="btn-primary" (click)="onCreatePlaytime()">
          + Uusi leikkiaika
        </button>
      </div>

      <div class="playtimes-list">
        <div *ngIf="playtimes.length === 0" class="empty-state">
          <p>Ei vielä suunniteltuja leikkiaikoja.</p>
          <p>Ole ensimmäinen suunnittelemassa leikkiaikaa!</p>
        </div>

        <div *ngFor="let playtime of playtimes" class="playtime-card" [class.ongoing]="isEventOngoing(playtime)">
          <div class="playtime-header">
            <div class="time-info">
              <span class="date">{{ formatDate(playtime.scheduledTime) }}</span>
              <span class="time">{{ formatTime(playtime.scheduledTime) }}</span>
            </div>
            <span class="ongoing-badge" *ngIf="isEventOngoing(playtime)">
              🟢 {{ getTimeStatus(playtime) }}
            </span>
          </div>
          <div class="playtime-body">
            <p class="parent-name">👤 {{ playtime.parentName }}</p>

            <!-- Display all participants -->
            <div class="participants-section">
              <div class="participant" *ngFor="let participant of playtime.participants; let i = index">
                <p class="child-info">
                  🧒 {{ getParticipantLabel(participant) }}
                </p>
                <div class="interests" *ngIf="participant.interests.length > 0">
                  <span class="interest-tag" *ngFor="let interest of participant.interests">
                    {{ interest }}
                  </span>
                </div>
              </div>
            </div>

            <p class="additional-info" *ngIf="playtime.additionalInfo">
              💬 {{ playtime.additionalInfo }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
