<div class="detail-container" *ngIf="playground">
  <div class="detail-header">
    <button class="back-btn" (click)="goBack()">
      <span class="back-icon">â†</span>
      Takaisin
    </button>
    <h1>{{ playground.name }}</h1>
  </div>

  <div class="detail-content">
    <div class="playground-info">
      <img *ngIf="playground.imageUrl"
           [src]="playground.imageUrl"
           [alt]="playground.name"
           class="playground-image" />
      <p *ngIf="playground.address" class="address">
        ğŸ“ {{ playground.address }}
      </p>
      <p *ngIf="playground.description" class="description">
        {{ playground.description }}
      </p>
    </div>

    <div class="check-ins-section">
      <div class="section-header">
        <h2>Tulevat kÃ¤ynnit</h2>
        <button class="btn-primary" (click)="onCreateCheckIn()">
          + Uusi kÃ¤ynti
        </button>
      </div>

      <div class="check-ins-list">
        <div *ngIf="checkIns.length === 0" class="empty-state">
          <p>Ei vielÃ¤ suunniteltuja kÃ¤yntejÃ¤.</p>
          <p>Ole ensimmÃ¤inen suunnittelemassa kÃ¤yntiÃ¤!</p>
        </div>

        <div *ngFor="let checkIn of checkIns" class="check-in-card" [class.ongoing]="isEventOngoing(checkIn)">
          <div class="check-in-header">
            <div class="time-info">
              <span class="date">{{ formatDate(checkIn.scheduledTime) }}</span>
              <span class="time">{{ formatTime(checkIn.scheduledTime) }}</span>
            </div>
            <span class="ongoing-badge" *ngIf="isEventOngoing(checkIn)">
              ğŸŸ¢ {{ getTimeStatus(checkIn) }}
            </span>
          </div>
          <div class="check-in-body">
            <p class="parent-name">ğŸ‘¤ {{ checkIn.parentName }}</p>

            <!-- Display all participants -->
            <div class="participants-section">
              <div class="participant" *ngFor="let participant of checkIn.participants; let i = index">
                <p class="child-info">
                  ğŸ§’ {{ getParticipantLabel(participant) }}
                </p>
                <div class="interests" *ngIf="participant.interests.length > 0">
                  <span class="interest-tag" *ngFor="let interest of participant.interests">
                    {{ interest }}
                  </span>
                </div>
              </div>
            </div>

            <p class="additional-info" *ngIf="checkIn.additionalInfo">
              ğŸ’¬ {{ checkIn.additionalInfo }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
