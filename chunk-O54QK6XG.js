import{a as h}from"./chunk-W5SB232E.js";import"./chunk-QN7HCJJR.js";import{a as v,b as f,d as P}from"./chunk-VUHFQXK3.js";import{c as y}from"./chunk-ZPVWGYEY.js";import"./chunk-CVMR7QOK.js";import"./chunk-A6Y66VFI.js";import"./chunk-JT74BPEB.js";import{i as m,r as u,t as c}from"./chunk-T7AEDZSF.js";import{Bb as d,Jb as p,Kb as s,Rb as g,ab as r,fb as a,mb as l}from"./chunk-2ZS5FXWY.js";import"./chunk-ODN5LVDJ.js";var C=class o{constructor(e,i,t,n,_){this.route=e;this.router=i;this.playgroundService=t;this.playtimeService=n;this.dialog=_}playground=null;playtimes=[];ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.loadPlayground(e),this.loadPlaytimes(e))}loadPlayground(e){this.playgroundService.getPlaygrounds().subscribe(i=>{this.playground=i.find(t=>t.id===e)||null})}loadPlaytimes(e){this.playtimeService.getPlaytimesByPlayground(e).subscribe(i=>{this.playtimes=i})}onCreatePlaytime(){if(!this.playground)return;window.innerWidth<=768?this.router.navigate(["/playground",this.playground.id,"new-playtime"]):this.dialog.open(h,{width:"100%",maxWidth:"640px",maxHeight:"95vh",panelClass:"playtime-dialog-panel",data:{playground:this.playground},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(t=>{t&&this.playground&&this.loadPlaytimes(this.playground.id)})}goBack(){this.router.navigate(["/map"])}static \u0275fac=function(i){return new(i||o)(a(u),a(c),a(v),a(f),a(y))};static \u0275cmp=l({type:o,selectors:[["app-playground-detail-page"]],decls:2,vars:3,consts:[[1,"page-container"],[3,"createPlaytime","backClick","playground","playtimes","showBackButton"]],template:function(i,t){i&1&&(p(0,"div",0)(1,"app-playground-detail",1),g("createPlaytime",function(){return t.onCreatePlaytime()})("backClick",function(){return t.goBack()}),s()()),i&2&&(r(),d("playground",t.playground)("playtimes",t.playtimes)("showBackButton",!0))},dependencies:[m,P],styles:[".page-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#fff;padding:1rem;overflow-y:auto}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}"]})};export{C as PlaygroundDetailPageComponent};
